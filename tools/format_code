#!/bin/bash
set -euf -o pipefail

source ~/.cache/pypoetry/virtualenvs/mlxtk-py3.7/bin/activate

FILES=`find mlxtk examples -name "*.py"`

echo "Run isort"
isort -j $(nproc) ${FILES} || exit

echo "Run yapf"
yapf --parallel --in-place --style=pep8 ${FILES} || exit
